rm(list=ls())

ibutton.list=list()
ibutton.list[["A"]] = as.character(seq(1,6))
ibutton.list[["B"]] = as.character(seq(1,5))
ibutton.list[["C"]] = as.character(c(seq(1,4),6))
ibutton.list[["D"]] = as.character(c(1,seq(3,6)))
ibutton.list[["E"]] = as.character(c(1,seq(3,6)))

ibutton.data = list()
ibutton.data[["A"]] = list()
ibutton.data[["B"]] = list()
ibutton.data[["C"]] = list()
ibutton.data[["D"]] = list()
ibutton.data[["E"]] = list()

for (isection in c("A","B","C","D","E"))
    {
        for (idepth in ibutton.list[[isection]])
            {
                data.file = paste("ibutton/",isection,idepth,".csv",sep="")
                ibutton.data[[isection]][[idepth]]= read.table(data.file,skip=19,sep=',',header=TRUE)
                ibutton.data[[isection]][[idepth]][,1] = as.POSIXct(ibutton.data[[isection]][[idepth]][,1],
                                                                  format="%m/%d/%y %I:%M:%S %p",tz="GMT")
            }
    }

ibutton.depth = read.table("ibutton/ibutton.depth.csv",header=TRUE,sep=",",row.names=1)
colnames(ibutton.depth) = as.character(seq(1:6))


color = c("blue","green","yellow","orange","pink","red")
names(color) = as.character(seq(1,6))
for (isection in c("A","B","C","D","E"))
    {
        jpeg.name=paste("ibutton_",isection,".jpg",sep='')
        jpeg(filename=jpeg.name,width=10,height=10,units="in",res=200,quality=100)
        plot(ibutton.data[[isection]][["1"]][,1],ibutton.data[[isection]][["1"]][,3],type="l",
             ylim=c(5,20)


             )
        for (idepth in ibutton.list[[isection]])
            {
                lines(ibutton.data[[isection]][[idepth]][,1],ibutton.data[[isection]][[idepth]][,3],col=color[idepth],type='l')
            }


#        legend("topleft",c(ibutton.list[[isection]]),col=color[ibutton.list[[isection]]],lty=1)

        legend("topleft",c(ibutton.list[[isection]]),col=color[ibutton.list[[isection]]],lty=1)


        dev.off()
    }
